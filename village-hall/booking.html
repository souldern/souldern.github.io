---
layout: default
title: "Souldern Village Hall Booking"
extracss: booking
---
<script>
  const days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday", "Saturday"];
  const ords = ['first', 'second', 'third', 'fourth', 'fifth'];
      function generateEmail () {
          var body ="\n";
          var body = body + "My name: " + document.getElementById('name').value+ "\n(" +
              (document.getElementById('resid').checked ? document.getElementById('resid').value :"") +
              (document.getElementById('org').checked ? document.getElementById('org').value :"") +
              (document.getElementById('ext').checked ? document.getElementById('ext').value :"") +
              ")";
          body = body + "\nTel: " + document.getElementById('tel').value ;
          body = body + "\n\nDate: " + document.getElementById('date').value ;
          body=body+"\nDuration: " +   document.getElementById('duration').value;
          if(document.getElementById('duration').value.indexOf('hour') !== -1) {
            body=body+" from: " +   document.getElementById('start').value;
            var stm=document.getElementById('start').value;
            var dur=document.getElementById('duration').value;
            var endtm= parseInt(stm.substring(0, stm.indexOf(":"))) +
                       parseInt(dur.substring(0, dur.indexOf(" ")));
            if(endtm <= 24) {
              body = body + " to: " +  (endtm < 10 ? "0" : "") + endtm + ":00";
            }                    
          }  
          const r = document.getElementById('repeat').value;
          if(r != 'No repeat') {
             body=body+"\nRepeat: " + r;
             const d=new Date(document.getElementById('date').value)
              if (r == "Monthly") {
                  body = body + ", " + ords[Math.floor((d.getDate()-1) / 7)] + " " + days[d.getDay()] + " of each month.";
              }
         }
          body=body+"\n\nAny further comments:\n"
        

          if(document.getElementById('name').value=="") {
              document.getElementById('missing').innerHTML="Please supply your name";
          } else if(document.getElementById('date').value=="") {
              document.getElementById('missing').innerHTML="Please select a date";
          } else {            
//            document.location.href = "mailto:souldern.villagehall@gmail.com?subject=Souldern%20Village%20Hall%20Booking%20Request&body="+encodeURI(body);
              document.location.href = "mailto:VillageHall@souldern.org?subject=Souldern%20Village%20Hall%20Booking%20Request&body="+encodeURI(body);
          }
      }
      function showtimes () {
          if(document.getElementById('duration').value.indexOf('hour') == -1) {
              document.getElementById('start').disabled=true
              document.getElementById('start').selectedIndex=0;
              document.getElementById('times').style.color="#AAA";
          } else {
              document.getElementById('start').disabled=false;
              document.getElementById('times').style.color="#606c71";
          }
      }
</script>


<a href="/village-hall">Village Hall</a>

<hr>



  <h1>Souldern Village Hall Booking</h1>


<p>You may use the calendar to view existing bookings at the village hall, and use the
  form below to generate a booking request email. Please note the form generates an email
  booking request (which you can further modify before sending). The booking is <em>not</em> confirmed
  until you get a reply from the village hall organisers confirming the booking.</p>

<iframe src="https://calendar.google.com/calendar/embed?height=500&amp;wkst=1&amp;bgcolor=%23ffffff&amp;ctz=Europe%2FLondon&amp;src=azVtbDdmbm4ybXU4YzJtamdwdHEyZzBwMDBAZ3JvdXAuY2FsZW5kYXIuZ29vZ2xlLmNvbQ&amp;src=ZW4udWsjaG9saWRheUBncm91cC52LmNhbGVuZGFyLmdvb2dsZS5jb20&amp;color=%23F4511E&amp;color=%230B8043&amp;showTz=0&amp;showCalendars=0&amp;showTabs=0&amp;showPrint=0&amp;showNav=1&amp;showTitle=0" style="border:solid 1px #777" width="100%" height="500" frameborder="0" scrolling="no"></iframe>
  <p>
    <span style="white-space:nowrap"><label for="date">Date:&nbsp;</label><input id="date" name="date" type="date"></span>
    <span style="white-space:nowrap"><label for="duration">Duration:&nbsp;</label><select id="duration" name="duration" onchange="showtimes(this)">
      <option>1 hour</option>
      <option>2 hours</option>
      <option>3 hours</option>
      <option>4 hours</option>
      <option>5 hours</option>
      <option>6 hours</option>
      <option>7 hours</option>
      <option>8 hours</option>
      <option selected>1 day</option>
      <option>2 days</option>
      <option>3 days</option>
    </select></span>
    <span style="white-space:nowrap"><label for="repeat">Repeat:&nbsp;</label><select id="repeat" name="repeat">
      <option selected>No repeat</option>
      <option>Weekly</option>
      <option>Monthly</option>
</select></span>
  </p>
  <p id="times">
    <span style="white-space:nowrap"><label for="start">Start time </label>
      <select disabled id="start" name="start">
      <option selected>07:00</option><option>08:00</option><option>09:00</option><option>10:00</option><option>11:00</option><option>12:00</option>
      <option>13:00</option><option>14:00</option><option>15:00</option><option>16:00</option><option>17:00</option><option>18:00</option>
      <option>19:00</option><option>20:00</option>
      </select></span>
  </p>
  <script>showtimes()</script>
<p>
  <span style="white-space:nowrap"><label for="name">Your Name: </label><input type="textbox" id="name" name="name" size="35"></span>
</p>
<p>
  <span style="white-space:nowrap"><label for="tel">Telephone:&nbsp; </label><input type="textbox" id="tel" name="tel" size="20"></span>
</p>
  <p>
   <span style="white-space:nowrap"><input type="radio" name="status" id="resid" value="Souldern Resident"> <label for="resid">Souldern Resident</label></span>
   <span style="white-space:nowrap"><input type="radio" name="status" id="org" value="Souldern Organisation"> <label for="org">Souldern Organisation</label></span>
   <span style="white-space:nowrap"><input type="radio" name="status" id="ext" value="Souldern Non-resident" checked> <label for="ext">Souldern Non-resident</label></span>
</p>

<p><i>You can add further notes or amend the text for special requests before sending the email.</i></p>
  <p><button onclick = "generateEmail()">Generate booking request email</button>
  <span id="missing" style="color:red;font-weight:bold"></span>
  <hr>
 
